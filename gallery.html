<!DOCTYPE html>
<html>
  <head>
    <meta charset = "UTF-8">
    <meta name = "viewport" content="width=device-width, initial-scale=1.0">
    <link href="main.css"
        rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css"/>

    <link rel="prefetch" as="image" href="img/loading_icon.gif">

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script type="text/javascript">WebFont.load({ google: { families: ["Raleway:regular,700"] } });</script>
</head>

<body>
  <header id="nav" class="sticky-nav-2">
      <nav class="w-container">
          <ul role="list" class="nav-grid-3 w-list-unstyled">
              <li id="w-node-_959f9846-8268-8f85-2783-ffcb6b4f68be-669a8247"><a href="index.html"
                class="nav-logo-link w-inline-block"><img
                    src="img/fa21_logo.png"
                    width="626.5" id="logo" sizes="(max-width: 479px) 158px, 160px"
                    alt="" class="nav-logo-2" /></a></li>
                    <li class="nav-item"><a href="index.html" class="nav-link-6">About</a></li>
                    <li class="nav-item"><a href="impact.html" class="nav-link-6">Impact</a></li>
                    <li class="nav-item"><a href="committee.html" class="nav-link-6">Committees</a></li>
                    <li class="nav-item"><a href="gallery.html" class="nav-link-6">Gallery</a></li>
                    <li class="nav-item"><a href="https://ifqd9bno9ap.typeform.com/to/YHdEcTXR" target="_blank" class="nav-link-6">Contact</a></li>
                    <li class="nav-item"><a href="http://www.asuc.org/donate" target="_blank" class="nav-link-6">Donate</a></li>
                </ul>
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
      </nav>
  </header>

  <div class="contain">
    <div id="about_container" class="centered-container-2 w-container">
      <h1 class="heading-3">BP Day Gallery</h1>
      <p class="paragraph-2"> Check out some of the past BP Days!</p>
    </div>

    <div class="image-container">

    <div class="gallery-grid">
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal15.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal14.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal13.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal12.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal11.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal10.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal9.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal8.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal7.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal6.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal5.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal4.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal3.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal2.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa22">
      <img src="img/gallery-pics/fa22gal1.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>
    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal1.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal2.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal3.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal4.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal5.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal6.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>


    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal7.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal8.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal9.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal10.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal11.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal12.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal13.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal14.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter fa21">
      <img src="img/gallery-pics/gal15.png" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter consumer">
      <img src="img/gallery-pics/sp22gal1.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter tech">
      <img src="img/gallery-pics/sp22gal2.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter tech">
      <img src="img/gallery-pics/sp22gal3.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter consumer">
      <img src="img/gallery-pics/sp22gal4.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter consumer">
      <img src="img/gallery-pics/sp22gal5.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter consumer">
      <img src="img/gallery-pics/sp22gal6.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter consumer">
      <img src="img/gallery-pics/sp22gal7.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter consumer">
      <img src="img/gallery-pics/sp22gal8.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter consumer">
      <img src="img/gallery-pics/sp22gal9.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter consumer">
      <img src="img/gallery-pics/sp22gal10.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter other">
      <img src="img/gallery-pics/sp22gal11.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter tech">
      <img src="img/gallery-pics/sp22gal12.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter tech">
      <img src="img/gallery-pics/sp22gal13.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter tech">
      <img src="img/gallery-pics/sp22gal14.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    <div class="gallery_product col-lg-3 col-md-3 col-sm-3 col-xs-6 filter tech">
      <img src="img/gallery-pics/sp22gal15.JPG" class="img-responsive" style="width:350px;height:250px;">
      <div class="image-overlay"></div>
    </div>

    </div>

      <div class="popup-image">
        <span>&times;</span>
        <img/>
        <div class="swiper">
<!--          <div class="swiper-wrapper">-->
<!--            <div class="swiper-slide"><img src="images/img1.png"></div>-->
<!--            <div class="swiper-slide"><img src="images/img2.png"></div>-->
<!--            <div class="swiper-slide"><img src="images/img3.png"></div>-->
<!--          </div>-->
          <div class="swiper-pagination"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>
        </div>
      </div>
    </div>
  </div>
    <script>

    document.querySelectorAll('.gallery_product').forEach(image =>{
      image.onclick = () =>{
        const img = image.querySelector('.img-responsive');
        document.querySelector('.popup-image').style.display = 'block';
        replaceImage(document.querySelector('.popup-image img'), img.getAttribute("src"), true)
      }
    });

    document.querySelector('.popup-image span').onclick = () =>{
      document.querySelector('.popup-image').style.display = 'none';
    }

    document.addEventListener("keyup", (evt) => {
      if (evt.key !== "Escape") {
        return
      }
      const popupImage = document.querySelector('.popup-image')
      if (popupImage.style.display === "block") {
        popupImage.style.display = "none"
      }
    })

    document.querySelector(".swiper-button-prev").onclick = () => {
        showNextImage(document.querySelector(".popup-image img"), false)
    }

    document.querySelector(".swiper-button-next").onclick = () => {
        showNextImage(document.querySelector(".popup-image img"), true)
    }

    let currentlyLoading

    function showNextImage(imageElement, forward = true) {
        if(imageElement.classList.contains("loading")) {
          return
        }
        const imagesContainer = document.querySelector(".gallery-grid");
        const src = imageElement.src;
        const srcPath = src.split("//")[1].split("/").filter((_, idx) => idx > 0).join("/") // only gets the path
        const correspondingImageEl = imagesContainer.querySelector(`img[src\$='${srcPath}']`)
        const imageContainer = correspondingImageEl.closest(".gallery_product")
        let nextImageContainer = forward ? imageContainer.nextElementSibling : imageContainer.previousElementSibling
        if (!nextImageContainer) {
            nextImageContainer = forward ? imagesContainer.firstElementChild : imagesContainer.lastElementChild
        }
        const nextImage = nextImageContainer.querySelector("img")

        replaceImage(imageElement, nextImage.src)
    }

    function replaceImage(imageElement, newSrc, rightAway = false) {
        currentlyLoading = newSrc
        let delayFlag = true
        let delayOverride = false
        if (imageElement.classList.contains("loaded") && rightAway) {
            console.debug("new click from gallery not next")
            delayOverride = true
        }

        const quickTimer = setTimeout(function() {
            console.debug("quick")
            delayFlag = false
            delayOverride = false
        }, 50)

        // show loading graphic only if it's needed
        const timer = setTimeout(function () {
            console.debug("a little too slow")
            imageElement.src = "img/loading_icon.gif";
            imageElement.classList.add("loading")
            imageElement.classList.remove("loaded")
        }, 100);

        const slowTimer = setTimeout(function() {
            console.debug("slow")
            delayFlag = false
        }, 750)

        // preload image
        const img = new Image();

        function loadInImage () {
            if (currentlyLoading !== newSrc) {
              return
            }
            clearTimeout(timer);
            imageElement.src = newSrc;
            setTimeout(() => {
              imageElement.classList.remove("loading")
              imageElement.classList.add("loaded")
            }, 100)
        }
        img.onload = function() {
            clearTimeout(slowTimer);
            clearTimeout(quickTimer);
            setTimeout(loadInImage, delayOverride || delayFlag ? 750 : 0)
        }
        img.fetchPriority = "high"
        img.src = newSrc;
    }

    </script>
    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=604af0ee269431b7d69a8246"
            type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>
    <script src="js/gallerytable.js"></script>
  </body>
</html>
